(self.modernJsonp=self.modernJsonp||[]).push([["75157"],{900993:function(e,r,s){s.d(r,{Z:()=>o});var i=s(341687);function a(e,r,s){var i;return(r="symbol"==typeof(i=function(e,r){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?i:i+"")in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}let t={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},o=new class{constructor(){a(this,"_experiments",null),a(this,"_viewer",null),a(this,"_advertiser",null),a(this,"_scenario",null),a(this,"_language",null),a(this,"_context",null),a(this,"_orbacActingAs",null)}initialize(e){let{requestContext:r,viewer:s,location:a,advertiser:t,scenario:o,orbacActingAs:n}=e;this._context=e,this._experiments=r.experimentsClient,this._language=r.language,this._viewer=s,this._advertiser=t,this._orbacActingAs=n;let{adCreate:l}=(0,i.Z)(a.search);o?this._scenario=o:l?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:r,authOnly:s,customEnabledCheck:i,experiment:a,groups:o=/.*/,hasCustomEnabledCheck:n,languages:l,orbacDisabled:_,partnerOnly:d,scenarios:c,skipActivation:g}=t[e],h=this._viewer.isAuth?this._viewer.id:void 0;return(!this._orbacActingAs?.id||this._orbacActingAs.id===h||!_)&&(n&&i&&this._context&&n(this._context)?!!this._context&&i(this._context):g&&this._experiments?!!a&&this.checkExperimentWithSkipActivation(e):!!r&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!s||!!this._viewer.isAuth)&&(!this._viewer||!d||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!c||!!c.includes(this._scenario))&&(!l||!!l.includes(this._language))&&(!a||o.test(this.getExperimentGroup(e)||"")))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{checkExperiment:r}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return r("disable_pin_creation").group??null;case"imageSignals":return r("pin_quality_signal_image").group??null;case"tagging":return r("web_pin_builder_tagging").group??null;case"videoEditing":return r("video_edit").group??null;case"ideaPinProductTagging":return r("web_idea_pin_product_tagging").group??null;case"pinItemBase64":return r("aid_exp_pin_builder_item_base64").group??null;default:return null}}checkExperimentWithSkipActivation(e){if(!this._viewer||!this._experiments)return!1;let{checkExperiment:r}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return r("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"imageSignals":return r("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"tagging":return r("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"videoEditing":return r("video_edit",{dangerouslySkipActivation:!0}).anyEnabled??!1;default:return!1}}}},622125:function(e,r,s){s.d(r,{Z:()=>i});let i=()=>window.location.pathname},319910:function(e,r,s){s.d(r,{Z:()=>i});let i=({url:e})=>""===e||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(e)},992004:function(e,r,s){s.d(r,{Z:()=>_});var i=s(686659),a=s(667294),t=s(235045),o=s(785893);function n(e,r,s){var i;return(r="symbol"==typeof(i=function(e,r){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?i:i+"")in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}let l={default:{backgroundColor:"var(--sema-color-background-secondary)",boxShadow:"none"},drag:{backgroundColor:"var(--sema-color-background-default)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-education)"},error:{backgroundColor:"var(--sema-color-background-error-weak)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-error)"}};class _ extends a.Component{constructor(...e){super(...e),n(this,"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),n(this,"handleOnDragEnter",e=>{let{onDragEnter:r}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!0}),r&&r(e)}),n(this,"handleOnDragLeave",e=>{let{onDragLeave:r}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),r&&r(e)}),n(this,"handleOnDragOver",e=>{let{onDragOver:r}=this.props;e.preventDefault(),e.stopPropagation(),r&&r(e)}),n(this,"handleOnDrop",e=>{let{onDrop:r}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),r&&r(e)}),n(this,"handleMouseEnter",()=>{let{onMouseEnter:e}=this.props;e&&e(),this.setState({isHoveringOver:!0})}),n(this,"handleMouseLeave",()=>{let{onMouseLeave:e}=this.props;e&&e(),this.setState({isHoveringOver:!1})}),n(this,"setContainedHeight",e=>{this.setState({containedHeight:e})})}getDragContainerStyles(e,r){return r&&"default"===e?{...l[e],backgroundColor:r}:l[e]}render(){let{children:e,color:r,dropRounding:s,hasError:i,height:a,position:n,width:l}=this.props,{isDraggingOver:_,isHoveringOver:d,containedHeight:c}=this.state;return(0,o.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{...this.getDragContainerStyles(_?"drag":i?"error":"default",r),...s?{borderRadius:s}:{}}},"data-test-id":"drag-behavior-container",height:a||c||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:n,rounding:2,width:l||"100%",children:e(_,d,this.setContainedHeight,c)})}componentDidMount(){(0,i.Z)("DragBehavior","/app/packages/vip/DragBehavior.tsx")}}},257026:function(e,r,s){s.d(r,{Z:()=>_});var i=s(686659),a=s(667294),t=s(235045),o=s(992004),n=s(785893);let l={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},_=e=>{(0,a.useEffect)(()=>{(0,i.Z)("FileUpload","/app/packages/vip/FileUpload.tsx")},[]);let[r,s]=(0,a.useState)(!1),_=r=>{let{onChange:s}=e;r.preventDefault(),r.stopPropagation(),s&&s(r),r.target.value=""},d=r=>{let{onClick:s}=e;s&&s(r)},{accept:c,accessibilityLabel:g,accessibilityDescription:h,allowMultipleFiles:u,children:m,color:p,dropRounding:E,hasError:I,height:P,id:A,onDrop:O,position:y,rounding:v=2,width:b,isAriaHidden:N,isRequired:R,experimentsClient:M}=e;return(0,n.jsx)(o.Z,{color:p,dropRounding:E,experimentsClient:M,hasError:I,height:P,onDrop:O,position:y,width:b,children:e=>(0,n.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{...r?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},height:"100%",onBlur:()=>s(!1),onFocus:()=>s(!0),position:"relative",rounding:v,children:[m(e),(0,n.jsx)("input",{accept:c,"aria-describedby":"upload-button-explanation","aria-hidden":N,"aria-invalid":I?"true":void 0,"aria-label":g,"data-test-id":A,id:A,multiple:u,onChange:_,onClick:d,required:R,style:l,tabIndex:N?-1:0,type:"file"}),h&&(0,n.jsx)(t.xu,{display:"none",id:"upload-button-explanation",children:(0,n.jsx)(t.xe,{children:h})})]})})}},832274:function(e,r,s){s.d(r,{P7:()=>a,Zx:()=>n,sc:()=>o,ss:()=>t,xl:()=>i});let i=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],a=["bmp","gif","jpg","jpeg","png","tiff","webp"],t=["video/mp4","video/x-m4v","video/quicktime"],o=["mp4","m4v","mov"],n={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},310621:function(e,r,s){s.d(r,{Z:()=>o});var i=s(216975),a=s(937656),t=s(900993);function o(e,r,s,o){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:s,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:r.bt("Your upload failed because it is in the wrong format.", "Your upload failed because it's the wrong format.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:s,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:r.bt("This image is too large and can't be uploaded. Please try a smaller image size.", "This image is too large and can't be uploaded. Please try a smaller image size.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":let[n,l]=t.Z.enabled("pinQuality")||o?.isStoryPin?[300,200]:[100,100];return{dispatchId:s,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.nk)(r.bt("This image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "vip.errorMessaging.minImageMessage", undefined, true),{minHeight:n,minWidth:l,pixelString:r.nbt(["pixel", "pixels"], l, "pinBuilder.errorMessaging.pixel", true)}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:s,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(r.nbt(["This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB", "This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB"], 20, "vip.errorMessaging.message", true),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:s,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:r.bt("This image type is invalid – please make sure the image is natively .jpg or .png", "This image type is invalid - please make sure the image is natively .jpg or .png", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:s,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.nk)(r.nbt(["This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel", "This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels"], 100, "vip.errorMessaging.message", true),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":let _=Math.floor(4);return{dispatchId:s,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(r.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} seconds."], _, "vip.errorMessaging.message", true),{minVideoLengthSeconds:_}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":let d=a.W_;return{dispatchId:s,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(r.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} seconds."], d, "vip.errorMessaging.storyPinVideoBelowMin.message", true),{minStoryPinVideoLengthSeconds:d}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:s,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:r.bt("The video's cover image must have the same dimensions as the video itself", "The video's cover image must be of the same dimensions as the video itself", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:s,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:r.bt("Your upload failed for some reason. Please try again.", "Hmm, your upload failed for some reason. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:s,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.nk)(r.nbt(["This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minute.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minutes."], 15, "vip.errorMessaging.message", true),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:s,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.nk)(r.bt("This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "vip.errorMessaging.message", undefined, true),{max_video_length_seconds:Math.floor(a.P9)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:s,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(r.nbt(["This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB.", "This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB."], 2, "vip.errorMessaging.message", true),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let e=a.Lr/1024/1024;return{dispatchId:s,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(r.nbt(["This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB.", "This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB."], e, "vip.errorMessaging.message", true),{maxVideoFileSize:e}).join(""),blocking:!0}}case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:r.bt("This video isn't encoded in H.264", "This video isn't encoded in H.264", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:r.bt("This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "vip.errorMessaging.message.chrome", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:r.bt("This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "vip.errorMessaging.message.firefox", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:s,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:r.bt("This video isn't encoded in H.264 or H.265 or ProRes.", "This video isn't encoded in H.264 or H.265 or ProRes.", "vip.errorMessaging.message.safari", undefined, true),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:s,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:r.bt("This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "vip.errorMessaging.message", undefined, true),blocking:!0};default:return{dispatchId:s,id:"GENERAL_ERROR",type:"error",message:r.bt("Something went wrong. Please try again.", "Hmm, something went wrong. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0}}}},468908:function(e,r,s){s.d(r,{Z:()=>t});var i=s(172045),a=s(310621);let t=e=>r=>new Promise((s,t)=>{let o=new Image;o.addEventListener("load",()=>s({fileSrc:r,height:o.height,id:(0,i.Z)(),name:r.name,size:r.size,src:o.src,type:"localImage",width:o.width})),o.addEventListener("error",()=>t((0,a.Z)("IMAGE_UNRECOGNIZED_TYPE",e))),o.src=URL.createObjectURL(r)})},629374:function(e,r,s){s.d(r,{Z:()=>o});var i=s(172045),a=s(310621),t=s(954375);let o=e=>r=>new Promise((s,o)=>{let n=new FileReader,l=(window.navigator?.userAgent||"").includes("Safari")?r.slice(0,r.size,"video/mp4"):r,_=URL.createObjectURL(l);n.addEventListener("load",()=>{let n=document.createElement("video");n.addEventListener("loadedmetadata",()=>s({id:(0,i.Z)(),duration:n.duration,fileSrc:r,height:n.videoHeight,name:r.name,size:r.size,src:n.src,thumbnail:0,type:"localVideo",width:n.videoWidth})),n.addEventListener("error",()=>{o((0,a.Z)((0,t.Z)(),e))}),n.src=_}),n.readAsDataURL(r)})},954375:function(e,r,s){s.d(r,{Z:()=>i});function i(){let e=window.navigator?.userAgent||"";if(e.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(e.includes("SamsungBrowser")||e.includes("Opera")||e.includes("OPR")||e.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(e.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},424304:function(e,r,s){s.d(r,{Z:()=>c});var i=s(832274),a=s(310621),t=s(468908),o=s(900993),n=s(479297),l=s(937656),_=s(629374),d=s(954375);function c({i18n:e,file:r,options:s,ideaPinRenamingEnabled:c,imageFileTypes:g=i.xl}){let{allowVideo:h,videoOnly:u}=s||{};if(i.ss.includes(r.type)&&h){let{forStoryPin:i}=s||{},t=i?l.Lr:0x80000000;return r.size>t?Promise.resolve((0,a.Z)(i?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",e)):(0,_.Z)(e)(r).then(r=>(function(e,r,s){let{forStoryPin:i,allowAllAspectRatios:t}=s||{},o=!!i,n=o?l.W_:4,_=o?l.P9:900;return r.duration<n?(0,a.Z)(o?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",e):r.duration>_?(0,a.Z)(o?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",e):r.width&&r.height?!t&&(r.width/r.height<.5||r.width/r.height>1.91)?(0,a.Z)("VIDEO_UNSUPPORTED_RATIO",e):r.width<100||r.height<100?(0,a.Z)("VIDEO_UNDER_MIN_DIMENSIONS",e):r:(0,a.Z)((0,d.Z)(),e)})(e,r,s)).catch(e=>e)}return!g.includes(r.type)||u?Promise.resolve((0,a.Z)("FILE_UNRECOGNIZED_TYPE",e)):r.size>0x1400000?Promise.resolve((0,a.Z)("IMAGE_OVER_MAX_FILE_SIZE",e)):(0,t.Z)(e)(r).then(r=>(function(e,r,s,i){let[a,t]=o.Z.enabled("pinQuality")||i?.isStoryPin?[300,200]:[100,100],l=i?.minHeight||a,_=i?.minWidth||t;return s.height*s.width>0x5555555?(0,n.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:r}):s.height<l||s.width<_?(0,n.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:r,options:i}):s})(e,c,r,s)).catch(e=>e)}},544030:function(e,r,s){s.d(r,{Z:()=>E});var i=s(686659),a=s(667294),t=s(235045),o=s(104999),n=s(753806),l=s(24246),_=s(192336),d=s(680391),c=s(902123),g=s(373696),h=s(405933),u=s(362777),m=s(785893);let p=({children:e,eventHandlers:{onBlur:r,onFocus:s,onMouseDown:i,onMouseEnter:a,onMouseLeave:n,onMouseUp:l},role:c,url:g,contextData:h,onClick:u,onMouseDown:p,onMouseEnter:E,onTap:I})=>{let P=(0,o.Z)(),A=(0,d.Z)({href:g||"",onHistoryChange:_.Z}),O=e=>{h&&P(h),u&&u(e)};return"link"===c?(0,m.jsx)(t.Tg,{href:g||"",onBlur:r,onFocus:()=>{s()},onMouseDown:()=>{i(),p?.()},onMouseEnter:()=>{a(),E?.()},onMouseLeave:()=>{n()},onMouseUp:l,onTap:({event:e,dangerouslyDisableOnNavigation:r})=>{r(),O(e),g&&A({event:e}),I?.()},rounding:6,children:e}):(0,m.jsx)(t.iP,{onBlur:r,onFocus:s,onMouseDown:()=>{i(),p?.()},onMouseEnter:()=>{a(),E?.()},onMouseLeave:n,onMouseUp:l,onTap:({event:e})=>{O(e),g&&A({event:e})},role:"button",rounding:6,children:e})};function E({contextData:e,dataTestId:r,iconEnd:s,isSelected:o,onClick:_,onMouseDown:d,onTap:E,role:I="link",showNotifBadge:P=!1,text:A,navigateTo:O}){(0,a.useEffect)(()=>{(0,i.Z)("HeaderTab","/app/www/Header/HeaderTab.tsx")},[]);let y=(0,l.Z)(),{active:v,hovered:b,onBlur:N,onFocus:R,onMouseDown:M,onMouseEnter:T,onMouseLeave:S,onMouseUp:f}=(0,c.Z)(),D=(0,n.oS)(g.nu),{preload:z}=(0,h.G)(),x=(()=>{if(O?.kind==="Entrypoint"){let{preloadExtent:e}=O;if("None"!==e)return()=>z(O.route,e)}return null})(),L=O?.kind==="Entrypoint"?(0,u.w)(O.route):O?.kind==="Legacy"?O.url:null;return(0,m.jsx)(t.xu,{"data-test-id":r,flex:"none",height:48,minWidth:60,rounding:6,children:(0,m.jsx)(p,{contextData:e,eventHandlers:{onBlur:N,onFocus:R,onMouseDown:M,onMouseEnter:T,onMouseLeave:S,onMouseUp:f},onClick:e=>{_?.(e),P&&D.completeExperience(g.nu,g.wo)},onMouseDown:d??null,onMouseEnter:x,onTap:E,role:I,url:L,children:(0,m.jsx)(t.xu,{color:o||v?"selected":b?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:v&&!o?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,m.jsxs)(t.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,m.jsx)(t.xe,{align:"center",color:o?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:A}),s&&(0,m.jsx)(t.xu,{marginStart:2,children:(0,m.jsx)(t.JO,{accessibilityLabel:"",color:o?"inverse":"default",icon:s,size:12})}),P&&(0,m.jsx)(n.a3,{eligibleIds:[g.wo],placementId:g.nu,children:(0,m.jsx)(t.z$,{accessibilityLabel:y.bt("Notifications", "Notifications", "header.headerTab.notifBadge", undefined, true)})})]})})})})}},923790:function(e,r,s){s.d(r,{Z:()=>o});var i=s(667294),a=s(562400),t=s(818282);let o=function(){let[{shrinkSearchBox:e,searchIconOnly:r},s]=(0,i.useState)({searchIconOnly:!1,shrinkSearchBox:!1});return(0,i.useEffect)(()=>{let r=(0,a.Z)(()=>{let r=document.getElementById(t.v6);if(!r)return;let i=300>=(r.offsetWidth||0);window.innerWidth<850?s({searchIconOnly:i,shrinkSearchBox:!0}):e?s({searchIconOnly:!1,shrinkSearchBox:!1}):s(e=>({...e,searchIconOnly:i}))},100);return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e]),{shrinkSearchBox:e,searchIconOnly:r}}},479297:function(e,r,s){s.d(r,{GB:()=>u,ZP:()=>h,q0:()=>g});var i=s(235045),a=s(216975),t=s(937656),o=s(696749),n=s(247387),l=s(622125),_=s(310621),d=s(542392),c=s(785893);let g=e=>e.bt("Not a valid URL.", "Not a valid URL.", "storyPinBuilder.errorMessaging.message", undefined, true);function h({dispatchId:e,errorId:r,i18n:s,ideaPinRenamingEnabled:l,options:h}){let u=(0,_.Z)(r,s,e,h);if("GENERAL_ERROR"!==u.id)return u;switch(r){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s.bt("This description is getting long. Try cutting it down.", "Ooops! This description is getting long. Try trimming it down.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:s.bt("Too many user mentions. Please keep to 5 max.", "Ooops! Too many user mentions. Try keeping it to 5 max.", "pinBuilder.errorMessaging.descriptionMentionLimit", undefined, true)};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s.bt("This title is getting long. Try cutting it down.", "Ooops! This title is getting long. Try trimming it down.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:e,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:s.bt("This image does not have the recommended aspect ratio.", "This image does not have the recommended aspect ratio.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:e,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:s.bt("You can't tag from the same page twice.", "You can't tag from the same page twice.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:e,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:s.bt("You've reached the maximum number of products for a tag.", "You've reached the maximum number of products for a tag.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"BOARD_MISSING":return{dispatchId:e,id:"BOARD_MISSING",type:"error",message:s.bt("A board is required to create a Pin.", "A board is required to create a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DATE_IN_PAST":return{dispatchId:e,id:"DATE_IN_PAST",type:"error",message:s.bt("A future date is required to schedule a Pin.", "A future date is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:e,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:s.bt("Make sure you schedule a Pin less than 30 days in the future.", "Make sure you schedule a Pin less than 30 days in the future.", "storyPinBuilder.errorMessaging.30DayMessage", undefined, true),blocking:!0};case"DATE_MISSING":return{dispatchId:e,id:"DATE_MISSING",type:"error",message:s.bt("A date is required to schedule a Pin.", "A date is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:e,id:"DESCRIPTION_INVALID",type:"error",message:s.bt("The description is invalid.", "The description is invalid.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DUPLICATE_PIN_CONTENT":return{dispatchId:e,id:"DUPLICATE_PIN_CONTENT",type:"error",message:s.bt("This Pin has the same image, board, description and link as another Pin. Please make each Pin unique.", "This Pin has the same image, board, description, and link as another Pin. Please make each Pin unique.", "pinBuilder.errorMessaging.duplicatePinContent", undefined, true),blocking:!0};case"MEDIA_MISSING":return{dispatchId:e,id:"MEDIA_MISSING",type:"error",message:s.bt("An image is required to create a Pin.", "An image is required to create a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:e,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:s.bt("Showcase ads don’t currently support video. To continue, please upload an image.", "Showcase ads don’t currently support video. To continue, please upload an image.", "showcasePinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_INVALID":return{dispatchId:e,id:"TAG_INVALID",type:"error",message:s.bt("You can only tag images linking to your claimed website.", "You can only tag images linking to your claimed website.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_EMPTY":return{dispatchId:e,id:"TAG_EMPTY",type:"error",message:s.bt("You must tag at least one feature Pin to continue.", "You must tag at least one feature Pin to continue.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TIME_MISSING":return{dispatchId:e,id:"TIME_MISSING",type:"error",message:s.bt("A time is required to schedule a Pin.", "A time is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TITLE_INVALID":return{dispatchId:e,id:"TITLE_INVALID",type:"error",message:s.bt("The title is invalid.", "The title is invalid.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_INVALID":return{dispatchId:e,id:"URL_INVALID",type:"error",message:g(s),blocking:!0};case"URL_MISSING":return{dispatchId:e,id:"URL_MISSING",type:"error",message:s.bt("URL is required.", "URL is required.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:e,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,a.nk)(s.bt("Some nudity is OK on Pinterest, some isn't. Make sure you understand {{ policy_link }}", "Some nudity is okay for Pinterest, some isn't. Make sure you understand {{ policy_link }}", "storyPinBuilder.errorMessaging.message", undefined, true),{policy_link:(0,c.jsx)(i.rU,{display:"inlineBlock",href:n.MsG,target:"blank",underline:"hover",children:(0,c.jsx)(i.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:s.bt("our policies", "our policies", "Link to policy page", undefined, true)})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:e,id:"URL_IS_TOO_LONG",type:"error",message:(0,o.Z)(s.bt("Please shorten the link to {{ maxLength }} characters or fewer.", "Please shorten the link to {{ maxLength }} characters or fewer.", "pinbuilder.urlIsTooLong.errorMessage", undefined, true),{maxLength:t.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:e,id:"URL_IS_BLOCKED",type:"error",message:s.bt("This link is blocked because it may not meet our content policies.", "This link is blocked because it may not meet our content policies.", "pinbuilder.blockedUrl.errorMessage", undefined, true),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:e,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:s.bt("Carousel images must have the same height and width", "Carousel images must have the same height and width", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:e,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:s.bt("Carousels can only contain images", "Carousels can only contain images", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:e,id:"URL_IS_REDIRECT",type:"error",message:s.bt("URL is a redirect. Please enter a URL without a redirect.", "URL is a redirect. Please enter a URL without a redirect.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:e,id:"URL_UNREACHABLE",type:"error",message:s.bt("URL is unreachable. Please check that it is correct.", "URL is unreachable. Please check that it is correct.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:s.bt("Edit the image on the cover page to have a 9:16 ratio", "Edit the image on the cover page to have a 9:16 ratio", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:l?s.bt("Please provide an image for the cover page of your Pin", "Please provide an image for the cover page of your Pin", "storyPinBuilder.errorMessaging.storypinCoverPageImageMissing", undefined, true):s.bt("Please provide an image for the cover page of your Idea Pin", "Please provide an image for the cover page of your Idea Pin", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:l?s.bt("Cannot save Pin without signature set on cover", "Cannot save Pin without signature set on cover", "storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing", undefined, true):s.bt("Cannot save Idea Pin without signature set on cover", "Cannot save Idea Pin without signature set on cover", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:l?s.bt("Give your Pin a title before you publish", "Give your Pin a title before you publish", "storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing", undefined, true):s.bt("Give your Idea Pin a title before you publish", "Give your Idea Pin a title before you publish", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:l?s.bt("Cannot save Pin without signatures set on all media blocks/items", "Cannot save Pin without signatures set on all media blocks/items", "storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing", undefined, true):s.bt("Cannot save Idea Pin without signatures set on all media blocks/items", "Cannot save Idea Pin without signatures set on all media blocks/items", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:e,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:l?s.bt("Create at least 2 pages to publish a Pin", "Create at least 2 pages to publish a Pin", "storyPinBuilder.errorMessaging.storyPinNotEnoughPages", undefined, true):s.bt("Create at least 2 pages to publish an Idea Pin", "Create at least 2 pages to publish an Idea Pin", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,a.nk)(s.bt("You have reached the limit of {{draftMaxCount}} drafts.", "You have reached the limit of {{draftMaxCount}} drafts.", "storyboard.errorMessaging.message.draftLimitError", undefined, true),{draftMaxCount:d.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,a.nk)(s.bt("You can only upload {{multiUploadMaxCount}} drafts at a time.", "You can only upload {{multiUploadMaxCount}} drafts at once.", "storyboard.errorMessaging.message.multiUploadMaxError", undefined, true),{multiUploadMaxCount:d.Af}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_TITLE_MISSING",type:"error",message:l?s.bt("Give your Pin a title before you publish", "Give your Pin a title before you publish", "storyPinBuilder.errorMessaging.storyPinTitleMissing", undefined, true):s.bt("Give your Idea Pin a title before you publish", "Give your Idea Pin a title before you publish", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":{let r=Math.floor(t.W_);return{dispatchId:e,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,a.nk)(s.nbt(["This video is too short and can't be uploaded. Videos can't be shorter than {{minVideoLengthSeconds}} second.", "This video is too short and can't be uploaded. Videos can't be shorter than {{minVideoLengthSeconds}} seconds."], r, "storyPinBuilder.errorMessaging.message", true),{minVideoLengthSeconds:r}).join(""),blocking:!0}}case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:e,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:s.bt("The cover page cannot contain a video", "The cover page cannot contain a video", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let r=t.Lr/1024/1024;return{dispatchId:e,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,a.nk)(s.nbt(["This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}} MB.", "This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}} MB."], r, "storyPinBuilder.errorMessaging.message", true),{maxVideoFileSize:r}).join(""),blocking:!0}}case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s.bt("This alt text is getting a bit long. Try trimming it down.", "Ooops! This alt text is getting long. Try trimming it down.", "pinBuilder.errorMessaging.message", undefined, true)};default:return{dispatchId:e,id:"GENERAL_ERROR",type:"error",message:s.bt("Something went wrong. Please try again.", "Hmm, something went wrong. Please try again.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0}}}function u(e,r,s){s({event_type:7564,view_type:212,component:(0,l.Z)().includes("create")?13762:13308,aux_data:{error_message:r,error_id:e}})}},542392:function(e,r,s){s.d(r,{Af:()=>d,Ei:()=>l,II:()=>P,Lh:()=>m,U:()=>h,Zy:()=>n,dD:()=>t,er:()=>u,hb:()=>E,in:()=>_,j7:()=>p,kX:()=>c,mx:()=>I,n5:()=>o,q8:()=>g,xH:()=>a});var i=s(176783);let a=1048576,t=3,o=20,n=3,l=10,_=50,d=10,c=1200,g=375,h=375/i.ap,u=4096,m="#FFFFFF",p={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},E=420,I=325,P=768}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75157.en_GB-2912988371512ecf.mjs.map